<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trending Content Engine ‚Äî Architecture Fonctionnelle V2</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=DM+Mono:wght@400;500&family=Source+Serif+4:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
<style>
  :root {
    --sourcing: #0F766E;
    --sourcing-bg: #F0FDFA;
    --sourcing-border: #99F6E4;
    --preprocessing: #7C3AED;
    --preprocessing-bg: #FAF5FF;
    --preprocessing-border: #DDD6FE;
    --scoring: #DC2626;
    --scoring-bg: #FFF1F2;
    --scoring-border: #FECDD3;
    --generation: #EA580C;
    --generation-bg: #FFF7ED;
    --generation-border: #FED7AA;
    --interface: #2563EB;
    --interface-bg: #EFF6FF;
    --interface-border: #BFDBFE;
    --feedback: #059669;
    --feedback-bg: #ECFDF5;
    --feedback-border: #A7F3D0;
    --slate-900: #0F172A;
    --slate-800: #1E293B;
    --slate-700: #334155;
    --slate-600: #475569;
    --slate-500: #64748B;
    --slate-400: #94A3B8;
    --slate-300: #CBD5E1;
    --slate-200: #E2E8F0;
    --slate-100: #F1F5F9;
    --slate-50: #F8FAFC;
    --uc-new: #D946EF;
    --uc-new-bg: #FDF4FF;
    --uc-new-border: #F0ABFC;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    min-height: 100vh;
    background: linear-gradient(135deg, var(--slate-50) 0%, var(--slate-100) 50%, var(--slate-200) 100%);
    font-family: 'DM Sans', system-ui, -apple-system, sans-serif;
    color: var(--slate-700);
    padding: 32px 24px;
    -webkit-font-smoothing: antialiased;
  }

  .container { max-width: 1100px; margin: 0 auto; }

  /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
  .header { text-align: center; margin-bottom: 40px; }
  .header-label {
    font-size: 11px; font-weight: 700; letter-spacing: 0.15em;
    text-transform: uppercase; color: var(--slate-400); margin-bottom: 8px;
  }
  .header h1 {
    font-family: 'Source Serif 4', Georgia, serif;
    font-size: clamp(28px, 4vw, 36px); font-weight: 700;
    color: var(--slate-900); line-height: 1.2;
  }
  .header p {
    color: var(--slate-500); font-size: 15px; margin-top: 10px;
    max-width: 750px; margin-left: auto; margin-right: auto; line-height: 1.6;
  }
  .header-actions { margin-top: 16px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
  .btn-header {
    padding: 8px 20px; border-radius: 8px; border: 1px solid var(--slate-300);
    background: #FFF; cursor: pointer; font-size: 12px; font-weight: 600;
    color: var(--slate-600); font-family: 'DM Sans', sans-serif;
    transition: all .2s;
  }
  .btn-header:hover { background: var(--slate-100); border-color: var(--slate-400); }
  .version-badge {
    display: inline-block; background: var(--uc-new); color: #FFF;
    font-size: 10px; font-weight: 700; padding: 3px 10px; border-radius: 12px;
    letter-spacing: 0.05em; margin-left: 8px; vertical-align: middle;
  }

  /* ‚îÄ‚îÄ Flow Bar ‚îÄ‚îÄ */
  .flow-bar {
    display: flex; justify-content: center; align-items: center;
    gap: 8px; margin-bottom: 28px; flex-wrap: wrap;
  }
  .flow-pill {
    color: #FFF; font-size: 11px; font-weight: 700;
    padding: 5px 12px; border-radius: 20px; white-space: nowrap;
    cursor: pointer; transition: transform .15s, box-shadow .15s;
    user-select: none;
  }
  .flow-pill:hover { transform: scale(1.08); box-shadow: 0 4px 12px rgba(0,0,0,.15); }
  .flow-arrow { color: var(--slate-400); font-size: 16px; font-weight: 700; }

  /* ‚îÄ‚îÄ Personas Section ‚îÄ‚îÄ */
  .personas-section {
    margin-bottom: 28px; background: #FFF; border-radius: 16px;
    padding: 24px; border: 1px solid var(--slate-200);
  }
  .personas-title {
    font-weight: 700; font-size: 14px; letter-spacing: 0.03em;
    text-transform: uppercase; color: var(--slate-600); margin-bottom: 16px;
  }
  .personas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(310px, 1fr));
    gap: 12px;
  }
  .persona-card {
    border-radius: 12px; padding: 16px; border: 1px solid var(--slate-200);
    background: var(--slate-50); position: relative;
  }
  .persona-card.is-new {
    border-color: var(--uc-new-border);
    background: var(--uc-new-bg);
  }
  .persona-card.is-new::before {
    content: 'NOUVEAU'; position: absolute; top: 10px; right: 10px;
    background: var(--uc-new); color: #FFF; font-size: 9px; font-weight: 700;
    padding: 2px 8px; border-radius: 8px; letter-spacing: 0.08em;
  }
  .persona-icon { font-size: 24px; margin-bottom: 6px; }
  .persona-name { font-weight: 700; font-size: 13px; color: var(--slate-900); }
  .persona-uc { font-size: 10px; font-weight: 600; color: var(--slate-400); margin-top: 2px; font-family: 'DM Mono', monospace; }
  .persona-desc { font-size: 12px; color: var(--slate-500); margin-top: 6px; line-height: 1.5; }
  .persona-needs { margin-top: 8px; }
  .persona-need-tag {
    display: inline-block; font-size: 10px; padding: 2px 8px;
    border-radius: 4px; margin: 2px 3px 2px 0; font-weight: 500;
  }

  /* ‚îÄ‚îÄ Domain Cards ‚îÄ‚îÄ */
  .domain-card {
    border-radius: 16px; margin-bottom: 16px; overflow: hidden;
    transition: box-shadow .3s ease;
  }
  .domain-card.expanded { box-shadow: 0 8px 32px rgba(0,0,0,.08); }
  .domain-header {
    width: 100%; padding: 20px 24px; background: none; border: none;
    cursor: pointer; display: flex; align-items: center; gap: 16px;
    text-align: left; font-family: 'DM Sans', sans-serif;
  }
  .domain-icon { font-size: 32px; flex-shrink: 0; }
  .domain-title {
    font-weight: 700; font-size: 15px; letter-spacing: 0.03em;
    text-transform: uppercase;
  }
  .domain-subtitle {
    font-family: 'Source Serif 4', Georgia, serif;
    font-size: 13px; color: var(--slate-500); margin-top: 2px;
  }
  .domain-chevron {
    font-size: 20px; transition: transform .3s ease; flex-shrink: 0;
  }
  .domain-card.expanded .domain-chevron { transform: rotate(180deg); }

  .domain-body { padding: 0 24px 24px; display: none; }
  .domain-card.expanded .domain-body { display: block; animation: fadeSlide .3s ease; }

  @keyframes fadeSlide {
    from { opacity: 0; transform: translateY(-8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .blocks-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 14px;
  }
  .block-card {
    background: #FFF; border-radius: 12px; padding: 18px;
    transition: transform .15s; position: relative;
  }
  .block-card:hover { transform: translateY(-2px); }
  .block-card.is-new-block { box-shadow: 0 0 0 2px var(--uc-new); }
  .block-card.is-new-block::after {
    content: '‚òÖ NOUVEAU UC16-18'; position: absolute; top: 8px; right: 8px;
    background: var(--uc-new); color: #FFF; font-size: 8px; font-weight: 700;
    padding: 2px 6px; border-radius: 6px; letter-spacing: 0.05em;
  }
  .block-card.is-updated-block { box-shadow: 0 0 0 2px #F59E0B; }
  .block-card.is-updated-block::after {
    content: '‚Üë MAJ UC16-18'; position: absolute; top: 8px; right: 8px;
    background: #F59E0B; color: #FFF; font-size: 8px; font-weight: 700;
    padding: 2px 6px; border-radius: 6px; letter-spacing: 0.05em;
  }
  .block-name {
    font-weight: 700; font-size: 13px; margin-bottom: 10px;
    padding-bottom: 8px;
  }
  .tech-tag {
    display: inline-block; font-size: 11.5px;
    font-family: 'DM Mono', 'Fira Code', monospace; font-weight: 500;
    padding: 4px 10px; border-radius: 6px; margin: 2px 4px 2px 0;
  }
  .tech-tag.is-new-tag {
    background: #D946EF18 !important; color: #D946EF !important;
    border: 1px solid #D946EF44 !important; font-weight: 700;
  }
  .block-note {
    font-size: 11.5px; color: var(--slate-500); font-style: italic;
    line-height: 1.5; margin-top: 10px;
  }
  .domain-output {
    margin-top: 14px; padding: 10px 16px; border-radius: 8px;
    font-size: 12px; font-weight: 600;
    border-left-width: 4px; border-left-style: solid;
  }

  /* ‚îÄ‚îÄ Orchestration ‚îÄ‚îÄ */
  .orchestration {
    margin-top: 24px;
    background: linear-gradient(135deg, #1E293B 0%, #334155 100%);
    border-radius: 16px; padding: 24px; color: #FFF;
  }
  .orch-header {
    width: 100%; background: none; border: none; cursor: pointer;
    display: flex; align-items: center; gap: 16px; text-align: left;
    color: #FFF; padding: 0; font-family: 'DM Sans', sans-serif;
  }
  .orch-title {
    font-weight: 700; font-size: 15px; letter-spacing: 0.03em;
    text-transform: uppercase;
  }
  .orch-note { font-size: 13px; color: var(--slate-400); margin-top: 2px; }
  .orch-chevron { font-size: 20px; transition: transform .3s ease; }
  .orch-body {
    display: none; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 14px; margin-top: 20px;
  }
  .orchestration.expanded .orch-body { display: grid; animation: fadeSlide .3s ease; }
  .orchestration.expanded .orch-chevron { transform: rotate(180deg); }
  .orch-card {
    background: rgba(255,255,255,0.08); border-radius: 12px;
    padding: 18px; border: 1px solid rgba(255,255,255,0.12);
    transition: background .2s;
  }
  .orch-card:hover { background: rgba(255,255,255,0.12); }
  .orch-card h3 { font-weight: 700; font-size: 16px; margin-bottom: 6px; }
  .orch-card p { font-size: 12.5px; color: var(--slate-400); line-height: 1.6; }

  /* ‚îÄ‚îÄ MVP Phasing ‚îÄ‚îÄ */
  .mvp-section {
    margin-top: 24px; background: #FFF; border-radius: 16px;
    padding: 24px; border: 1px solid var(--slate-200);
  }
  .mvp-title {
    font-weight: 700; font-size: 14px; letter-spacing: 0.03em;
    text-transform: uppercase; color: var(--slate-600); margin-bottom: 16px;
  }
  .mvp-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 14px;
  }
  .mvp-card { border-radius: 12px; padding: 18px; }
  .mvp-card h3 { font-weight: 700; font-size: 13px; margin-bottom: 12px; }
  .mvp-item {
    font-size: 12.5px; color: var(--slate-600); padding: 4px 0;
    display: flex; align-items: flex-start; gap: 8px; line-height: 1.5;
  }
  .mvp-item.is-new-item { color: var(--uc-new); font-weight: 600; }
  .mvp-bullet { font-weight: 700; flex-shrink: 0; }

  /* ‚îÄ‚îÄ Relations Diagram ‚îÄ‚îÄ */
  .relations-section {
    margin-top: 24px; background: #FFF; border-radius: 16px;
    padding: 24px; border: 1px solid var(--slate-200);
  }
  .relations-title {
    font-weight: 700; font-size: 14px; letter-spacing: 0.03em;
    text-transform: uppercase; color: var(--slate-600); margin-bottom: 20px;
  }
  .relations-diagram {
    display: flex; flex-direction: column; gap: 0; align-items: center;
  }
  .rel-row {
    display: flex; align-items: center; gap: 12px; width: 100%; max-width: 800px;
  }
  .rel-box {
    flex: 1; border-radius: 10px; padding: 14px 18px; text-align: center;
    font-weight: 700; font-size: 12px; color: #FFF; letter-spacing: 0.02em;
    position: relative;
  }
  .rel-box small { display: block; font-weight: 400; opacity: .85; margin-top: 2px; font-size: 10px; }
  .rel-connector {
    text-align: center; padding: 4px 0; color: var(--slate-400);
    font-size: 18px; font-weight: 700; width: 100%; max-width: 800px;
  }
  .rel-side-arrows {
    display: flex; justify-content: space-between; width: 100%; max-width: 800px;
    padding: 0 20px; color: var(--slate-400); font-size: 11px; font-weight: 600;
  }
  .rel-feedback-loop {
    border: 2px dashed var(--feedback); border-radius: 12px;
    padding: 10px 20px; color: var(--feedback); font-size: 11px;
    font-weight: 600; text-align: center; max-width: 800px; width: 100%;
    margin-top: 4px;
  }

  /* ‚îÄ‚îÄ UC Impact Map ‚îÄ‚îÄ */
  .impact-section {
    margin-top: 24px; background: var(--uc-new-bg); border-radius: 16px;
    padding: 24px; border: 2px solid var(--uc-new-border);
  }
  .impact-title {
    font-weight: 700; font-size: 14px; letter-spacing: 0.03em;
    text-transform: uppercase; color: var(--uc-new); margin-bottom: 6px;
  }
  .impact-subtitle {
    font-size: 13px; color: var(--slate-500); margin-bottom: 18px; line-height: 1.5;
  }
  .impact-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 12px;
  }
  .impact-card {
    background: #FFF; border-radius: 10px; padding: 16px;
    border: 1px solid var(--uc-new-border);
  }
  .impact-card-header {
    display: flex; align-items: center; gap: 10px; margin-bottom: 10px;
  }
  .impact-domain-dot {
    width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0;
  }
  .impact-domain-name { font-weight: 700; font-size: 12px; color: var(--slate-700); }
  .impact-changes { font-size: 11.5px; color: var(--slate-600); line-height: 1.6; }
  .impact-changes li { margin-bottom: 4px; }
  .impact-uc-badge {
    display: inline-block; font-size: 9px; font-weight: 700;
    padding: 1px 6px; border-radius: 4px; margin-left: 4px;
    vertical-align: middle;
  }
  .uc16 { background: #8B5CF620; color: #7C3AED; }
  .uc17 { background: #3B82F620; color: #2563EB; }
  .uc18 { background: #F5920B20; color: #EA580C; }

  /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
  .footer {
    margin-top: 20px; text-align: center; font-size: 11px;
    color: var(--slate-400); font-style: italic;
  }

  /* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
  @media (max-width: 640px) {
    body { padding: 16px 12px; }
    .domain-header { padding: 16px; }
    .domain-body { padding: 0 16px 16px; }
    .blocks-grid { grid-template-columns: 1fr; }
    .personas-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<div class="container">

  <!-- Header -->
  <div class="header">
    <div class="header-label">Trending Content Engine ‚Äî Architecture Fonctionnelle <span class="version-badge">V2 ‚Äî 6 PERSONAS</span></div>
    <h1>Vue d'ensemble de la solution</h1>
    <p>6 domaines fonctionnels interconnect√©s ‚Äî du signal brut √† l'opportunit√© √©ditoriale actionnable.<br>
    Int√®gre d√©sormais les <strong>3 personas Influenceurs B2B & Solopreneurs</strong> (UC16, UC17, UC18) en plus des 3 personas m√©dia originaux.</p>
    <div class="header-actions">
      <button class="btn-header" onclick="expandAll()">Tout d√©plier</button>
      <button class="btn-header" onclick="collapseAll()">Tout replier</button>
      <button class="btn-header" onclick="highlightNew()" style="border-color:var(--uc-new);color:var(--uc-new)">‚òÖ Voir les nouveaut√©s UC16-18</button>
    </div>
  </div>

  <!-- Personas Section -->
  <div class="personas-section">
    <div class="personas-title">üë• Personas cibles ‚Äî 6 profils utilisateurs</div>
    <div class="personas-grid" id="personasGrid"></div>
  </div>

  <!-- Flow Bar -->
  <div class="flow-bar" id="flowBar"></div>

  <!-- Domain Cards -->
  <div id="domainCards"></div>

  <!-- UC Impact Map -->
  <div class="impact-section">
    <div class="impact-title">‚òÖ Carte d'impact ‚Äî Nouveaux cas d'usage UC16 ¬∑ UC17 ¬∑ UC18</div>
    <div class="impact-subtitle">Synth√®se des √©volutions apport√©es par les 3 personas Influenceurs B2B & Solopreneurs sur chaque domaine fonctionnel.</div>
    <div class="impact-grid" id="impactGrid"></div>
  </div>

  <!-- Relations Diagram -->
  <div class="relations-section">
    <div class="relations-title">üîó Articulation des domaines ‚Äî Flux de donn√©es & relations</div>
    <div class="relations-diagram">
      <div class="rel-row">
        <div class="rel-box" style="background:var(--sourcing)">üì° Sourcing<small>APIs, RSS, Scraping + ArXiv, GitHub, Substack, LI</small></div>
      </div>
      <div class="rel-connector">‚ñº donn√©es brutes (signaux mainstream + signaux faibles niche)</div>
      <div class="rel-row">
        <div class="rel-box" style="background:var(--preprocessing)">üßπ Pr√©-processing<small>Airtable / Supabase + classification niche IA/Tech</small></div>
      </div>
      <div class="rel-connector">‚ñº trends nettoy√©es + enrichies (niche tags, monetization signals)</div>
      <div class="rel-row">
        <div class="rel-box" style="background:var(--scoring)">üéØ Scoring IA<small>LLM Agent + R√®gles + Monetization Scorer + First-Mover Index</small></div>
      </div>
      <div class="rel-side-arrows">
        <span>‚ñº trends scor√©es (editorial + monetization)</span>
        <span>‚ñ∏ brouillons demand√©s (multi-format)</span>
      </div>
      <div class="rel-row" style="gap:14px">
        <div class="rel-box" style="background:var(--interface)">üñ•Ô∏è Interface<small>6 vues persona dont Solopreneur Cockpit</small></div>
        <div class="rel-box" style="background:var(--generation)">‚úçÔ∏è G√©n√©ration<small>Newsletter, Framework, Template + formats classiques</small></div>
      </div>
      <div class="rel-connector">‚ñº d√©cisions & feedback (+ m√©triques mon√©tisation)</div>
      <div class="rel-row">
        <div class="rel-box" style="background:var(--feedback)">üîÑ Feedback<small>Engagement, revenus, abonn√©s + prompt tuning</small></div>
      </div>
      <div class="rel-feedback-loop">‚Üª Boucle d'apprentissage ‚Üí r√©-injection dans Scoring & G√©n√©ration (enrichie par signaux mon√©tisation)</div>
    </div>
  </div>

  <!-- Orchestration -->
  <div class="orchestration" id="orchestration">
    <button class="orch-header" onclick="toggleOrch()">
      <span style="font-size:32px">‚öôÔ∏è</span>
      <div style="flex:1">
        <div class="orch-title">Orchestration & Automatisation</div>
        <div class="orch-note">L'orchestrateur connecte TOUS les domaines. Chaque flux (sourcing ‚Üí scoring ‚Üí g√©n√©ration) est un sc√©nario/workflow distinct. Les flux solopreneurs ajoutent des sc√©narios sp√©cifiques (newsletter digest, framework alert, template pipeline).</div>
      </div>
      <span class="orch-chevron">‚ñº</span>
    </button>
    <div class="orch-body">
      <div class="orch-card">
        <h3>Make.com</h3>
        <p>Sc√©narios visuels, id√©al prototypage rapide, riche en connecteurs. Recommand√© pour le MVP 1. <strong style="color:#F0ABFC">+Sc√©nario Substack digest auto (UC16)</strong></p>
      </div>
      <div class="orch-card">
        <h3>n8n</h3>
        <p>Self-hosted possible, n≈ìuds AI natifs, plus flexible pour la logique complexe. Id√©al pour MVP 2+. <strong style="color:#F0ABFC">+Workflow multi-agent scraping niche (UC17/18)</strong></p>
      </div>
      <div class="orch-card">
        <h3>Zapier</h3>
        <p>Alternative simple, moins puissant pour les flux IA complexes. Backup ou int√©grations ponctuelles.</p>
      </div>
    </div>
  </div>

  <!-- MVP Phasing -->
  <div class="mvp-section">
    <div class="mvp-title">üìã Phasage MVP ‚Äî Quels blocs quand ?</div>
    <div class="mvp-grid" id="mvpGrid"></div>
  </div>

  <div class="footer">
    Trending Content Engine ‚Äî Architecture fonctionnelle V2 ‚Äî Formation PO IA & NoCode ‚Äî Oreegami<br>
    <span style="color:var(--uc-new)">‚òÖ</span> Inclut UC16 (Substack/Patreon) ¬∑ UC17 (Top Voices LinkedIn) ¬∑ UC18 (Infopreneurs/Formateurs Tech)
  </div>

</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PERSONAS DATA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const personas = [
  {
    icon: "üì∞", name: "Responsable √©ditorial", uc: "MVP original",
    desc: "Pilote la strat√©gie de contenu d'une √©quipe m√©dia ou marque.",
    needs: [
      { label: "Vue strat√©gique", color: "#0F766E" },
      { label: "Priorisation tendances", color: "#DC2626" },
      { label: "Reporting √©ditorial", color: "#059669" }
    ],
    isNew: false
  },
  {
    icon: "üìã", name: "Content Manager", uc: "MVP original",
    desc: "Coordonne la production et les calendriers √©ditoriaux.",
    needs: [
      { label: "Planning multi-canal", color: "#2563EB" },
      { label: "Fen√™tre de publication", color: "#DC2626" },
      { label: "Suivi production", color: "#EA580C" }
    ],
    isNew: false
  },
  {
    icon: "üîç", name: "R√©dacteur SEO", uc: "MVP original",
    desc: "Produit du contenu optimis√© pour la recherche organique.",
    needs: [
      { label: "Gap s√©mantique", color: "#DC2626" },
      { label: "Brouillons SEO", color: "#EA580C" },
      { label: "Mots-cl√©s tendance", color: "#0F766E" }
    ],
    isNew: false
  },
  {
    icon: "‚úâÔ∏è", name: "Auteur Substack / Cr√©ateur Patreon", uc: "UC16",
    desc: "Curation pointue IA G√©n√©rative & LLMs pour mon√©tiser des newsletters premium et f√©d√©rer une communaut√© de niche.",
    needs: [
      { label: "Signaux faibles ArXiv/HN", color: "#7C3AED" },
      { label: "Curation niche IA", color: "#DC2626" },
      { label: "Newsletter draft auto", color: "#EA580C" },
      { label: "Subscriber growth KPIs", color: "#059669" }
    ],
    isNew: true
  },
  {
    icon: "üíº", name: "Top Voice LinkedIn B2B", uc: "UC17",
    desc: "D√©tection de frameworks √©mergents automatisation & agents IA pour g√©n√©rer de l'inbound et vendre du conseil.",
    needs: [
      { label: "Frameworks √©mergents", color: "#7C3AED" },
      { label: "Timing thought leadership", color: "#DC2626" },
      { label: "Post LinkedIn structur√©", color: "#EA580C" },
      { label: "Inbound leads tracking", color: "#059669" }
    ],
    isNew: true
  },
  {
    icon: "üéì", name: "Infopreneur / Formateur Tech", uc: "UC18",
    desc: "Veille sur les nouveaux workflows IA pour cr√©er et lancer des templates/formations avant le mainstream.",
    needs: [
      { label: "Nouveaux outils & workflows", color: "#0F766E" },
      { label: "First-mover window", color: "#DC2626" },
      { label: "Template & formation draft", color: "#EA580C" },
      { label: "Monetization potential", color: "#059669" }
    ],
    isNew: true
  }
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DOMAINS DATA (UPDATED FOR UC16-18)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const domains = [
  {
    id: "sourcing", title: "1. SOURCING & COLLECTE", subtitle: "Native Trend Aggregator + Niche Signal Detector",
    color: "var(--sourcing)", bgColor: "var(--sourcing-bg)", borderColor: "var(--sourcing-border)",
    rawColor: "#0F766E", icon: "üì°",
    description: "R√©cup√©ration multi-sources des signaux mainstream ET signaux faibles niche IA/Tech",
    blocks: [
      { name: "Flux RSS / Atom", options: ["Google Trends RSS","Feedly API","RSS natif Reddit"], techNote: "Polling toutes les 15-30 min via cron Make.com", status: "" },
      { name: "APIs Plateformes (mainstream)", options: ["Google Trends API (SerpAPI / Pytrends)","TikTok Creative Center API","X/Twitter API v2 (trending)","YouTube Data API v3","Pinterest Trends (scraping)","Reddit API (hot/rising)"], techNote: "Modules HTTP Make.com ou n≈ìuds HTTP Request n8n", status: "" },
      { name: "Sources Niche IA & Tech", options: ["ArXiv API (nouveaux papers IA/ML)","Hacker News API (Algolia)","GitHub Trending API","Product Hunt API","Substack Discovery RSS","Hugging Face Daily Papers"], techNote: "Signaux faibles avant le mainstream. D√©tection de nouveaux mod√®les, frameworks, outils. Polling quotidien.", status: "new" },
      { name: "Sources Thought Leadership B2B", options: ["LinkedIn Content API (posts viraux)","LinkedIn Sales Navigator scraping","Newsletter Spy (Substack analytics)","Podcast Index API","Gumroad / Teachable trending"], techNote: "D√©tection de frameworks √©mergents, formations qui d√©collent, contenus B2B √† forte traction.", status: "new" },
      { name: "Scraping l√©ger", options: ["Apify actors","Browse AI","Bardeen","PhantomBuster"], techNote: "Pour les sources sans API officielle (Pinterest, certains m√©dias)", status: "" },
      { name: "Webhooks entrants", options: ["Webhook Make.com","Webhook n8n","Zapier Catch Hook"], techNote: "R√©ception de signaux push depuis des outils tiers", status: "" }
    ],
    output: "Donn√©es brutes normalis√©es (mainstream + niche) ‚Üí envoy√©es au Pr√©-processing"
  },
  {
    id: "preprocessing", title: "2. PR√â-PROCESSING & NORMALISATION", subtitle: "Nettoyage, Structuration & Classification niche",
    color: "var(--preprocessing)", bgColor: "var(--preprocessing-bg)", borderColor: "var(--preprocessing-border)",
    rawColor: "#7C3AED", icon: "üßπ",
    description: "Nettoyage, d√©doublonnage, enrichissement, classification niche IA/Tech et structuration",
    blocks: [
      { name: "Base de donn√©es centrale (table Trends)", options: ["Airtable (prototypage rapide, UI int√©gr√©e)","Supabase (PostgreSQL, plus scalable)","Notion Database (collab l√©g√®re)"], techNote: "Table unique ¬´ Trends ¬ª : titre, source, date, volume, cat√©gorie, statut, niche_tags, monetization_signal", status: "updated" },
      { name: "D√©doublonnage & Merge", options: ["N≈ìud Merge/Deduplicate n8n","Module Agr√©gateur Make.com","Logique Airtable (formules + automations)","Script JS inline (Code node n8n)"], techNote: "Cl√© de d√©doublonnage : slug normalis√© du sujet + fen√™tre temporelle. Cross-source merge (ex: m√™me concept sur ArXiv + HN + LinkedIn).", status: "updated" },
      { name: "Enrichissement m√©tadonn√©es", options: ["Appel LLM (cat√©gorisation auto)","Lookup Google Knowledge Graph","Classification mots-cl√©s (regex / NLP)"], techNote: "Ajout : cat√©gorie, langue, zone g√©o, tags s√©mantiques", status: "" },
      { name: "Classification Niche IA/Tech", options: ["Prompt LLM sp√©cialis√© (taxonomie IA)","Embeddings + clustering (OpenAI/Cohere)","Table taxonomie Airtable (tags hi√©rarchiques)","Regex patterns sur termes techniques"], techNote: "Classe chaque trend dans une taxonomie fine : LLM, Agents, RAG, Fine-tuning, Automatisation, NoCode, Infra IA... Permet le filtrage pour UC16/17/18.", status: "new" },
      { name: "Normalisation des scores bruts", options: ["Formules Airtable / Supabase","Code Node n8n (JS)","Module Math Make.com"], techNote: "M√©triques h√©t√©rog√®nes (vues, requ√™tes, likes, stars GitHub, downloads) ‚Üí √©chelle commune 0-100", status: "updated" }
    ],
    output: "Trends nettoy√©es, classifi√©es & enrichies ‚Üí pr√™tes pour le Scoring IA"
  },
  {
    id: "scoring", title: "3. ANALYSE & SCORING IA", subtitle: "Editorial Scorer + Monetization Scorer + First-Mover Index",
    color: "var(--scoring)", bgColor: "var(--scoring-bg)", borderColor: "var(--scoring-border)",
    rawColor: "#DC2626", icon: "üéØ",
    description: "Scoring multicrit√®re √©ditorial + scoring mon√©tisation solopreneur + fen√™tre first-mover",
    blocks: [
      { name: "Scoring multicrit√®re (Editorial Relevance Scorer)", options: ["Agent IA Claude (API Anthropic)","Agent IA GPT-4 (OpenAI API)","N≈ìud AI Agent n8n + prompt structur√©","Module OpenAI Make.com"], techNote: "5 axes : Volume, V√©locit√©, Dur√©e de vie, Alignement audience, Comp√©tition ‚Üí Score 0-100", status: "" },
      { name: "Monetization Potential Scorer", options: ["Prompt LLM d√©di√© (analyse potentiel commercial)","R√®gles m√©tier Airtable (TAM niche, intent achat)","Croisement Gumroad/Teachable trending data"], techNote: "Score de mon√©tisabilit√© 0-100 : le sujet est-il vendable en formation, template, consulting ? Taille de march√© niche, intent acheteur d√©tect√©, pricing signals.", status: "new" },
      { name: "First-Mover Advantage Index", options: ["LLM + analyse concurrence (qui a d√©j√† publi√© ?)","Analyse SERPs (nombre d'articles existants)","GitHub stars velocity + NPM downloads","Scan Substack/Medium (couverture existante)"], techNote: "Indice de fen√™tre first-mover : tr√®s t√¥t (opportunit√© forte) ‚Üí d√©j√† satur√© (passer). Crois√© avec le temps de production estim√©.", status: "new" },
      { name: "Analyse s√©mantique (Semantic Gap Analyzer)", options: ["Prompt LLM d√©di√© (Claude / GPT)","N≈ìud AI Chain n8n","Perplexity API (analyse concurrence)","SimilarWeb API + LLM"], techNote: "Corpus existant ‚Üí angles non couverts, formats absents, questions sans r√©ponse. Inclut maintenant l'analyse des newsletters et contenus B2B LinkedIn.", status: "updated" },
      { name: "Fen√™tre de publication (Publication Window Estimator)", options: ["LLM + historique trends (few-shot)","R√®gles m√©tier (formules Airtable)","Mod√®le pr√©dictif l√©ger (Code node)"], techNote: "Output √©tendu : ¬´ Publiez dans 4h ¬ª / ¬´ Fen√™tre 2 jours ¬ª / ¬´ En d√©clin ¬ª + ¬´ Lancez la formation dans 2 semaines ¬ª (UC18)", status: "updated" },
      { name: "Matching canal (Channel-Topic Matcher)", options: ["Prompt LLM structur√© (JSON output)","Table de mapping Airtable (r√®gles m√©tier)","Logique conditionnelle n8n / Make"], techNote: "Canaux √©tendus : + Newsletter Substack, + Post LinkedIn thought leadership, + Template Gumroad, + Module de formation, + Thread communaut√© Patreon/Discord", status: "updated" }
    ],
    output: "Trends scor√©es (editorial + monetization + first-mover) ‚Üí Dashboard + G√©n√©ration"
  },
  {
    id: "generation", title: "4. G√âN√âRATION DE CONTENU", subtitle: "Content Draft Engine + Solopreneur Formats",
    color: "var(--generation)", bgColor: "var(--generation-bg)", borderColor: "var(--generation-border)",
    rawColor: "#EA580C", icon: "‚úçÔ∏è",
    description: "Production de brouillons multi-formats : articles, posts, newsletters, frameworks, templates de formation",
    blocks: [
      { name: "G√©n√©ration brouillons (formats classiques)", options: ["Claude API (Anthropic)","GPT-4 / GPT-4o (OpenAI)","Mistral API","N≈ìud AI n8n + prompt template"], techNote: "Brouillons : article SEO, post LinkedIn, script TikTok, thread X, newsletter", status: "" },
      { name: "G√©n√©ration Newsletter Premium (UC16)", options: ["Claude API (long-form curation)","Prompt template ¬´ newsletter digest ¬ª","Beehiiv / Substack API (draft push)","Markdown ‚Üí HTML converter"], techNote: "Structure : intro hook + 3-5 sujets cur√©s avec analyse + CTA premium. Ton expert-accessible. Adapt√© au format Substack/Beehiiv.", status: "new" },
      { name: "G√©n√©ration Framework & Thought Leadership (UC17)", options: ["Claude API (structured reasoning)","Prompt template ¬´ LinkedIn framework post ¬ª","Canva API (visual framework)","Mermaid ‚Üí image (sch√©ma auto)"], techNote: "Formats : post LinkedIn structur√© (hook ‚Üí framework ‚Üí CTA), carrousel visuel, thread argument√©. Ton ¬´ expert qui partage un mod√®le ¬ª.", status: "new" },
      { name: "G√©n√©ration Template & Outline Formation (UC18)", options: ["Claude API (curriculum design)","Prompt template ¬´ formation module outline ¬ª","Notion API (template auto-fill)","Tally / Typeform (quiz de validation)"], techNote: "Formats : outline de formation, template de workflow document√©, checklist actionnable, quiz de validation. Pr√™t √† packager sur Gumroad/Teachable.", status: "new" },
      { name: "Personnalisation par profil", options: ["Variables de contexte (6 profils √©ditoriaux)","Prompt dynamique (Make/n8n)","Templates par persona (Airtable)"], techNote: "Ton, longueur, structure adapt√©s aux 6 personas. Solopreneurs : ton personnel, voix d'auteur, CTA mon√©tisation int√©gr√©s.", status: "updated" },
      { name: "G√©n√©ration multimodale (MVP2+)", options: ["DALL-E / Midjourney API (visuels)","ElevenLabs (voix)","Runway / Pika (vid√©o courte)","Canva API (carrousels LinkedIn)"], techNote: "Visuels, thumbnails, assets sociaux + carrousels LinkedIn (UC17) + covers de formation (UC18)", status: "updated" },
      { name: "Stockage brouillons", options: ["Airtable (rich text)","Supabase (colonne JSONB)","Google Docs (via API)","Notion (page auto-cr√©√©e)","Beehiiv draft (via API)"], techNote: "Chaque brouillon li√© √† sa trend source + score √©ditorial + score mon√©tisation + canal cible + persona cible", status: "updated" }
    ],
    output: "Brouillons multi-formats ‚Üí Validation humaine via le Dashboard (6 vues persona)"
  },
  {
    id: "interface", title: "5. INTERFACE & EXP√âRIENCE UTILISATEUR", subtitle: "Cockpit √©ditorial + Solopreneur Dashboard",
    color: "var(--interface)", bgColor: "var(--interface-bg)", borderColor: "var(--interface-border)",
    rawColor: "#2563EB", icon: "üñ•Ô∏è",
    description: "Consultation, d√©cision, validation pour 6 personas avec vues sp√©cialis√©es solopreneurs",
    blocks: [
      { name: "Dashboard des tendances", options: ["Softr (connect√© Airtable)","Retool (connect√© Supabase)","Appsmith","Bubble","Glide (mobile-first)"], techNote: "Liste trends scor√©es. Ajout : colonne Score Mon√©tisation, badge First-Mover, filtre par niche IA/Tech.", status: "updated" },
      { name: "Vue Solopreneur Cockpit", options: ["Vue d√©di√©e Softr (filtres pr√©-configur√©s)","Dashboard Retool (widgets mon√©tisation)","Bubble page sp√©cifique (solopreneur mode)"], techNote: "Vue sp√©cialis√©e : trends tri√©es par potentiel de mon√©tisation, indice first-mover visible, formats solopreneur en priorit√©. Switch entre vue ¬´ curation ¬ª (UC16), ¬´ framework ¬ª (UC17), ¬´ template ¬ª (UC18).", status: "new" },
      { name: "Vue d√©tail Trend (enrichie)", options: ["Page d√©tail Softr/Retool","Modal Bubble","Expandable row Appsmith"], techNote: "Score d√©taill√© (5 axes √©ditoriaux + mon√©tisation + first-mover), sources, gap s√©mantique, fen√™tre, brouillons par format.", status: "updated" },
      { name: "Actions utilisateur", options: ["Boutons Softr (Valider/Rejeter/Modifier)","Formulaire inline Retool","Workflow buttons Bubble","Quick actions (¬´ Envoyer en draft Substack ¬ª, ¬´ Publier sur LinkedIn ¬ª)"], techNote: "Valider ‚Üí production | Rejeter ‚Üí feedback | Modifier ‚Üí √©dition. Nouveau : ¬´ Push to newsletter ¬ª (UC16), ¬´ Draft LinkedIn post ¬ª (UC17), ¬´ Create template ¬ª (UC18).", status: "updated" },
      { name: "Filtrage par profil (6 personas)", options: ["Filtres Softr + vues sauvegard√©es","R√¥les & permissions Retool","Segmentation Bubble par user type","Onboarding persona selector"], techNote: "6 vues : Resp. Edito ‚Üí strat√©gique | Content Mgr ‚Üí planning | R√©dacteur ‚Üí production | Substack ‚Üí curation niche | LinkedIn ‚Üí frameworks | Formateur ‚Üí templates", status: "updated" }
    ],
    output: "D√©cisions, feedback & actions directes ‚Üí moteur d'apprentissage + plateformes de publication"
  },
  {
    id: "feedback", title: "6. FEEDBACK & APPRENTISSAGE", subtitle: "Boucle continue + Signaux mon√©tisation",
    color: "var(--feedback)", bgColor: "var(--feedback-bg)", borderColor: "var(--feedback-border)",
    rawColor: "#059669", icon: "üîÑ",
    description: "Retours utilisateurs, m√©triques de mon√©tisation et am√©lioration progressive du scoring",
    blocks: [
      { name: "Collecte des feedbacks", options: ["Champ rating Airtable (1-5)","Formulaire Tally / Typeform int√©gr√©","Boutons like/dislike Dashboard"], techNote: "Chaque action (valider, rejeter, modifier) = signal d'apprentissage", status: "" },
      { name: "Signaux de mon√©tisation post-publication", options: ["Substack API (open rate, subscribers, revenue)","LinkedIn API (impressions, engagement, DMs re√ßus)","Gumroad/Teachable API (ventes, revenue)","Beehiiv analytics API","Webhook Stripe (revenus directs)"], techNote: "Boucle de feedback enrichie : le syst√®me apprend non seulement de la d√©cision de l'utilisateur mais aussi du r√©sultat commercial r√©el. Corr√©lation trend ‚Üí revenus.", status: "new" },
      { name: "Stockage des d√©cisions", options: ["Table ¬´ Decisions ¬ª Airtable","Table PostgreSQL Supabase","Log structur√© (JSON)"], techNote: "Historique enrichi : trend_id, action, persona, motif, date, revenue_generated, subscribers_gained, engagement_rate", status: "updated" },
      { name: "Am√©lioration des prompts", options: ["Few-shot learning","Prompt versioning (Airtable)","Fine-tuning l√©ger (OpenAI / Claude)","Reinforcement from monetization signals"], techNote: "Trends valid√©es + revenue √©lev√© = exemples positifs fortement pond√©r√©s. Le syst√®me apprend √† prioriser les sujets qui g√©n√®rent du revenu, pas seulement de l'engagement.", status: "updated" },
      { name: "Reporting & Analytics", options: ["Dashboard Metabase","Vues agr√©g√©es Airtable","Google Data Studio","Charts int√©gr√©s Retool"], techNote: "KPIs √©tendus : taux validation, temps d√©cision, pr√©cision scoring + revenue par trend, ROI par canal solopreneur, growth rate subscribers, conversion rate formation", status: "updated" }
    ],
    output: "Signaux d'apprentissage (√©ditorial + mon√©tisation) ‚Üí r√©-inject√©s dans Scoring & G√©n√©ration"
  }
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MVP DATA (UPDATED)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const mvps = [
  { phase: "MVP 1 ‚Äî Prototype", color: "#0F766E", items: [
    { text: "1 source mainstream (Google Trends RSS)", isNew: false },
    { text: "1 source niche (Hacker News API)", isNew: true },
    { text: "Pr√©-processing basique (Airtable) + niche tags", isNew: false },
    { text: "Scoring IA simplifi√© (1 prompt LLM)", isNew: false },
    { text: "Dashboard lecture seule (Softr) ‚Äî 6 vues persona", isNew: true },
    { text: "Feedback binaire (üëç/üëé)", isNew: false }
  ]},
  { phase: "MVP 2 ‚Äî Recommandation", color: "#7C3AED", items: [
    { text: "+2 sources mainstream (TikTok, Reddit)", isNew: false },
    { text: "+3 sources niche (ArXiv, GitHub, LinkedIn)", isNew: true },
    { text: "Scoring multicrit√®re + Monetization Scorer", isNew: true },
    { text: "Channel-Topic Matcher (9+ formats)", isNew: false },
    { text: "G√©n√©ration brouillons : articles + newsletters + frameworks", isNew: true },
    { text: "Actions Dashboard + push Substack/LinkedIn", isNew: true }
  ]},
  { phase: "MVP 3 ‚Äî Produit mature", color: "#DC2626", items: [
    { text: "Toutes sources agr√©g√©es", isNew: false },
    { text: "Semantic Gap Analyzer + First-Mover Index", isNew: true },
    { text: "Publication Window Estimator (incl. formation launch)", isNew: true },
    { text: "Feedback loop enrichi (revenus, subscribers)", isNew: true },
    { text: "Analytics : ROI par trend, revenue par canal", isNew: true },
    { text: "Template & formation generation (UC18)", isNew: true }
  ]}
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// UC IMPACT MAP DATA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const impactMap = [
  {
    domain: "1. Sourcing", color: "#0F766E",
    changes: [
      { text: "ArXiv API, Hacker News, GitHub Trending, Hugging Face Daily Papers", ucs: ["UC16","UC17","UC18"] },
      { text: "LinkedIn Content API, Newsletter Spy, Podcast Index", ucs: ["UC17"] },
      { text: "Gumroad/Teachable trending, Product Hunt API", ucs: ["UC18"] }
    ]
  },
  {
    domain: "2. Pr√©-processing", color: "#7C3AED",
    changes: [
      { text: "Classification niche IA/Tech (taxonomie fine : LLM, Agents, RAG, etc.)", ucs: ["UC16","UC17","UC18"] },
      { text: "Champs enrichis : niche_tags, monetization_signal", ucs: ["UC16","UC17","UC18"] },
      { text: "Cross-source merge (m√™me concept ArXiv + HN + LinkedIn)", ucs: ["UC16","UC17"] }
    ]
  },
  {
    domain: "3. Scoring IA", color: "#DC2626",
    changes: [
      { text: "Monetization Potential Scorer (vendable en formation/template/conseil ?)", ucs: ["UC17","UC18"] },
      { text: "First-Mover Advantage Index (fen√™tre d'opportunit√© niche)", ucs: ["UC16","UC18"] },
      { text: "Fen√™tre √©tendue : ¬´ Lancez la formation dans 2 semaines ¬ª", ucs: ["UC18"] },
      { text: "Canaux √©tendus : Newsletter, Framework post, Template, Module formation", ucs: ["UC16","UC17","UC18"] }
    ]
  },
  {
    domain: "4. G√©n√©ration", color: "#EA580C",
    changes: [
      { text: "Newsletter premium auto (intro hook + sujets cur√©s + CTA)", ucs: ["UC16"] },
      { text: "Framework & thought leadership post LinkedIn", ucs: ["UC17"] },
      { text: "Template de workflow + outline de formation", ucs: ["UC18"] },
      { text: "Personnalisation 6 personas, ton voix d'auteur, CTA mon√©tisation", ucs: ["UC16","UC17","UC18"] }
    ]
  },
  {
    domain: "5. Interface", color: "#2563EB",
    changes: [
      { text: "Vue Solopreneur Cockpit (curation / framework / template modes)", ucs: ["UC16","UC17","UC18"] },
      { text: "Score Mon√©tisation + badge First-Mover dans le Dashboard", ucs: ["UC16","UC17","UC18"] },
      { text: "Quick actions : Push Substack, Draft LinkedIn, Create template", ucs: ["UC16","UC17","UC18"] }
    ]
  },
  {
    domain: "6. Feedback", color: "#059669",
    changes: [
      { text: "Signaux mon√©tisation post-publication (revenue, subscribers, ventes)", ucs: ["UC16","UC17","UC18"] },
      { text: "Corr√©lation trend ‚Üí revenus pour enrichir le scoring", ucs: ["UC17","UC18"] },
      { text: "KPIs √©tendus : ROI/trend, revenue/canal, growth subscribers", ucs: ["UC16","UC17","UC18"] }
    ]
  }
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BUILD PERSONAS GRID
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const personasGrid = document.getElementById('personasGrid');
personas.forEach(p => {
  const card = document.createElement('div');
  card.className = 'persona-card' + (p.isNew ? ' is-new' : '');
  card.innerHTML = `
    <div class="persona-icon">${p.icon}</div>
    <div class="persona-name">${p.name}</div>
    <div class="persona-uc">${p.uc}</div>
    <div class="persona-desc">${p.desc}</div>
    <div class="persona-needs">
      ${p.needs.map(n => `<span class="persona-need-tag" style="background:${n.color}12;color:${n.color};border:1px solid ${n.color}22">${n.label}</span>`).join('')}
    </div>
  `;
  personasGrid.appendChild(card);
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BUILD FLOW BAR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const flowBar = document.getElementById('flowBar');
domains.forEach((d, i) => {
  const pill = document.createElement('div');
  pill.className = 'flow-pill';
  pill.style.background = d.rawColor;
  pill.textContent = d.icon + ' ' + d.id.charAt(0).toUpperCase() + d.id.slice(1);
  pill.onclick = () => toggleDomain(d.id);
  flowBar.appendChild(pill);
  if (i < domains.length - 1) {
    const arrow = document.createElement('span');
    arrow.className = 'flow-arrow';
    arrow.textContent = '‚Üí';
    flowBar.appendChild(arrow);
  }
});
const loop = document.createElement('span');
loop.className = 'flow-arrow';
loop.textContent = '‚Üª';
flowBar.appendChild(loop);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BUILD DOMAIN CARDS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const cardsContainer = document.getElementById('domainCards');
domains.forEach((d, idx) => {
  const card = document.createElement('div');
  card.className = 'domain-card' + (idx === 0 ? ' expanded' : '');
  card.id = 'card-' + d.id;
  card.style.background = d.bgColor;
  card.style.border = `2px solid ${d.borderColor}`;

  let blocksHTML = d.blocks.map(b => {
    let cardClass = 'block-card';
    if (b.status === 'new') cardClass += ' is-new-block';
    if (b.status === 'updated') cardClass += ' is-updated-block';
    return `
    <div class="${cardClass}" style="border:1px solid ${d.borderColor}">
      <div class="block-name" style="color:${d.rawColor};border-bottom:2px solid ${d.borderColor}">${b.name}</div>
      <div>${b.options.map(o => {
        const isNewTag = b.status === 'new';
        return `<span class="tech-tag${isNewTag ? ' is-new-tag' : ''}" style="${isNewTag ? '' : `background:${d.rawColor}10;color:${d.rawColor};border:1px solid ${d.rawColor}22`}">${o}</span>`;
      }).join('')}</div>
      <div class="block-note">üí° ${b.techNote}</div>
    </div>
  `}).join('');

  card.innerHTML = `
    <button class="domain-header" onclick="toggleDomain('${d.id}')">
      <span class="domain-icon">${d.icon}</span>
      <div style="flex:1">
        <div class="domain-title" style="color:${d.rawColor}">${d.title}</div>
        <div class="domain-subtitle">${d.subtitle} ‚Äî ${d.description}</div>
      </div>
      <span class="domain-chevron" style="color:${d.rawColor}">‚ñº</span>
    </button>
    <div class="domain-body">
      <div class="blocks-grid">${blocksHTML}</div>
      <div class="domain-output" style="background:${d.rawColor}0D;color:${d.rawColor};border-left-color:${d.rawColor}">
        ‚ûú OUTPUT : ${d.output}
      </div>
    </div>
  `;
  cardsContainer.appendChild(card);
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BUILD IMPACT MAP
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const impactGrid = document.getElementById('impactGrid');
impactMap.forEach(im => {
  const card = document.createElement('div');
  card.className = 'impact-card';
  const ucBadge = (uc) => {
    const cls = uc === 'UC16' ? 'uc16' : uc === 'UC17' ? 'uc17' : 'uc18';
    return `<span class="impact-uc-badge ${cls}">${uc}</span>`;
  };
  card.innerHTML = `
    <div class="impact-card-header">
      <div class="impact-domain-dot" style="background:${im.color}"></div>
      <div class="impact-domain-name">${im.domain}</div>
    </div>
    <ul class="impact-changes">
      ${im.changes.map(c => `<li>${c.text} ${c.ucs.map(ucBadge).join(' ')}</li>`).join('')}
    </ul>
  `;
  impactGrid.appendChild(card);
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BUILD MVP GRID
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const mvpGrid = document.getElementById('mvpGrid');
mvps.forEach(m => {
  const card = document.createElement('div');
  card.className = 'mvp-card';
  card.style.border = `2px solid ${m.color}22`;
  card.style.background = `${m.color}06`;
  card.innerHTML = `
    <h3 style="color:${m.color}">${m.phase}</h3>
    ${m.items.map(item => `<div class="mvp-item${item.isNew ? ' is-new-item' : ''}"><span class="mvp-bullet" style="color:${item.isNew ? 'var(--uc-new)' : m.color}">‚Ä¢</span>${item.isNew ? '‚òÖ ' : ''}${item.text}</div>`).join('')}
  `;
  mvpGrid.appendChild(card);
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INTERACTIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function toggleDomain(id) {
  document.getElementById('card-' + id).classList.toggle('expanded');
}

function toggleOrch() {
  document.getElementById('orchestration').classList.toggle('expanded');
}

function expandAll() {
  domains.forEach(d => document.getElementById('card-' + d.id).classList.add('expanded'));
  document.getElementById('orchestration').classList.add('expanded');
}

function collapseAll() {
  domains.forEach(d => document.getElementById('card-' + d.id).classList.remove('expanded'));
  document.getElementById('orchestration').classList.remove('expanded');
}

function highlightNew() {
  // Expand all to show new blocks
  expandAll();
  // Scroll to first new block
  setTimeout(() => {
    const firstNew = document.querySelector('.is-new-block');
    if (firstNew) firstNew.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }, 400);
}
</script>

</body>
</html>
